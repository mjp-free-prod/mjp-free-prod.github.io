import{h as U}from"./index.cd32510b.js";import{u as L}from"./asyncData.6a41a8db.js";import{h as _,l as N,X as q,P as b,S as B,_ as W,$ as Y,a0 as G,a1 as z,f as C,a2 as J,o as M,c as k,a as w,t as F,d as K,b as O}from"./entry.0bcdaafc.js";import{s as X}from"./button.esm.55364ebe.js";import"./basecomponent.esm.6659a568.js";import"./index.esm.5db8bd55.js";import"./baseicon.esm.36041c6c.js";function H(e,t,a){const[n={},r]=typeof t=="string"?[{},t]:[t,a],o=n.key||U([r,_(n.baseURL),typeof e=="string"?e:"",_(n.params||n.query)]);if(!o||typeof o!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+o);if(!e)throw new Error("[nuxt] [useFetch] request is missing.");const i=o===r?"$f"+o:o,s=N(()=>{let h=e;return typeof h=="function"&&(h=h()),_(h)});if(!n.baseURL&&typeof s.value=="string"&&s.value.startsWith("//"))throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:p,lazy:l,default:m,transform:u,pick:y,watch:$,immediate:g,...x}=n,c=q({...x,cache:typeof n.cache=="boolean"?void 0:n.cache}),f={server:p,lazy:l,default:m,transform:u,pick:y,immediate:g,watch:$===!1?[]:[c,s,...$||[]]};let d;return L(i,()=>{var D;return(D=d==null?void 0:d.abort)==null||D.call(d),d=typeof AbortController<"u"?new AbortController:{},typeof s.value=="string"&&s.value.startsWith("/"),(n.$fetch||globalThis.$fetch)(s.value,{signal:d.signal,...c})},f)}function A(e){return Y()?(G(e),!0):!1}function S(e){return typeof e=="function"?e():_(e)}const P=typeof window<"u";function Q(e=0,t={}){let a=_(e);const n=b(e),{max:r=Number.POSITIVE_INFINITY,min:o=Number.NEGATIVE_INFINITY}=t,i=(u=1)=>n.value=Math.min(r,n.value+u),s=(u=1)=>n.value=Math.max(o,n.value-u),p=()=>n.value,l=u=>n.value=Math.max(o,Math.min(r,u));return{count:n,inc:i,dec:s,get:p,set:l,reset:(u=a)=>(a=u,l(u))}}function Z(e,t=1e3,a={}){const{immediate:n=!0,immediateCallback:r=!1}=a;let o=null;const i=b(!1);function s(){o&&(clearInterval(o),o=null)}function p(){i.value=!1,s()}function l(){const m=S(t);m<=0||(i.value=!0,r&&e(),s(),o=setInterval(e,m))}if(n&&P&&l(),B(t)||typeof t=="function"){const m=W(t,()=>{i.value&&P&&l()});A(m)}return A(p),{isActive:i,pause:p,resume:l}}const ee=P?window:void 0;function te(e,t={}){const{immediate:a=!0,window:n=ee}=t,r=b(!1);let o=0,i=null;function s(m){if(!r.value||!n)return;const u=m-(o||m);e({delta:u,timestamp:m}),o=m,i=n.requestAnimationFrame(s)}function p(){!r.value&&n&&(r.value=!0,i=n.requestAnimationFrame(s))}function l(){r.value=!1,i!=null&&n&&(n.cancelAnimationFrame(i),i=null)}return a&&p(),A(l),{isActive:z(r),pause:l,resume:p}}var ne=Object.defineProperty,E=Object.getOwnPropertySymbols,ae=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,T=(e,t,a)=>t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,re=(e,t)=>{for(var a in t||(t={}))ae.call(t,a)&&T(e,a,t[a]);if(E)for(var a of E(t))oe.call(t,a)&&T(e,a,t[a]);return e};function se(e={}){const{controls:t=!1,interval:a="requestAnimationFrame"}=e,n=b(new Date),r=()=>n.value=new Date,o=a==="requestAnimationFrame"?te(r,{immediate:!0}):Z(r,a,{immediate:!0});return t?re({now:n},o):n}var ie=Object.defineProperty,I=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable,V=(e,t,a)=>t in e?ie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,ue=(e,t)=>{for(var a in t||(t={}))j.call(t,a)&&V(e,a,t[a]);if(I)for(var a of I(t))R.call(t,a)&&V(e,a,t[a]);return e},ce=(e,t)=>{var a={};for(var n in e)j.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&I)for(var n of I(e))t.indexOf(n)<0&&R.call(e,n)&&(a[n]=e[n]);return a};const le=[{max:6e4,value:1e3,name:"second"},{max:276e4,value:6e4,name:"minute"},{max:72e6,value:36e5,name:"hour"},{max:5184e5,value:864e5,name:"day"},{max:24192e5,value:6048e5,name:"week"},{max:28512e6,value:2592e6,name:"month"},{max:Number.POSITIVE_INFINITY,value:31536e6,name:"year"}],fe={justNow:"just now",past:e=>e.match(/\d/)?`${e} ago`:e,future:e=>e.match(/\d/)?`in ${e}`:e,month:(e,t)=>e===1?t?"last month":"next month":`${e} month${e>1?"s":""}`,year:(e,t)=>e===1?t?"last year":"next year":`${e} year${e>1?"s":""}`,day:(e,t)=>e===1?t?"yesterday":"tomorrow":`${e} day${e>1?"s":""}`,week:(e,t)=>e===1?t?"last week":"next week":`${e} week${e>1?"s":""}`,hour:e=>`${e} hour${e>1?"s":""}`,minute:e=>`${e} minute${e>1?"s":""}`,second:e=>`${e} second${e>1?"s":""}`,invalid:""};function me(e){return e.toISOString().slice(0,10)}function pe(e,t={}){const{controls:a=!1,updateInterval:n=3e4}=t,r=se({interval:n,controls:!0}),{now:o}=r,i=ce(r,["now"]),s=N(()=>de(new Date(S(e)),t,S(o)));return a?ue({timeAgo:s},i):s}function de(e,t={},a=Date.now()){var n;const{max:r,messages:o=fe,fullDateFormatter:i=me,units:s=le,showSecond:p=!1,rounding:l="round"}=t,m=typeof l=="number"?c=>+c.toFixed(l):Math[l],u=+a-+e,y=Math.abs(u);function $(c,f){return m(Math.abs(c)/f.value)}function g(c,f){const d=$(c,f),v=c>0,h=x(f.name,d,v);return x(v?"past":"future",h,v)}function x(c,f,d){const v=o[c];return typeof v=="function"?v(f,d):v.replace("{0}",f.toString())}if(y<6e4&&!p)return o.justNow;if(typeof r=="number"&&y>r)return i(new Date(e));if(typeof r=="string"){const c=(n=s.find(f=>f.name===r))==null?void 0:n.max;if(c&&y>c)return i(new Date(e))}for(const[c,f]of s.entries()){if($(u,f)<=0&&s[c-1])return g(u,s[c-1]);if(y<f.max)return g(u,f)}return o.invalid}const _e={class:"text-gray:80 text-2xl"},ve={"font-500":"","text-gray":""},he={"text-gray":""},ye=C({__name:"PageView",async setup(e){var i;let t,a;const{data:n}=([t,a]=J(()=>H("/api/pageview","$GYaFMVMIJ4")),t=await t,a(),t),r=pe(N(()=>{var s;return(s=n.value)==null?void 0:s.startAt})),o=(i=n.value)==null?void 0:i.pageview;return(s,p)=>(M(),k("div",_e,[w("span",ve,F(_(o)),1),K(" page views since "),w("span",he,F(_(r)),1)]))}}),we={class:"card"},$e=w("h2",null,"Server API Usage",-1),ge=w("h2",null,"Counter (useState)",-1),xe={class:"grid grid-cols-3 w-80 mt-8"},Ie={class:"text-4xl"},De=C({__name:"server",setup(e){const t=Q();return(a,n)=>{const r=ye,o=X;return M(),k("div",we,[$e,O(r),ge,w("div",xe,[O(o,{icon:"pi pi-plus",class:"p-button-rounded p-button-info",onClick:n[0]||(n[0]=i=>_(t).inc())}),w("span",Ie,F(_(t).count),1),O(o,{icon:"pi pi-minus",class:"p-button-rounded p-button-success",onClick:n[1]||(n[1]=i=>_(t).dec())})])])}}});export{De as default};
